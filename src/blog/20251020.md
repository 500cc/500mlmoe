---
title: "コンプは4ボックスから"
date: 2025-10-20
layout: layouts/blog.njk
---

どうも萌え命500mLです

## ポケモンカード問題

みなさんもポケモンカードをコンプしたいですよね？

現在の最新弾「インフェルノX」にはレアリティ違いを含めずに80種類（含めると116種類）のカードが含まれています（https://www.pokemon-card.com/ex/m2/）

問題を単純化して以下のようにします

80種類のカードが等確率で出てくるパック（5枚入り）をいくつか買い、全種類のカードをコンプリートするためには何パック買う必要があるか？

これは似た問題がすでに考えられていて、「クーポンコレクター問題」という名前がついてます

これは解き方がすでにわかっていて、説明をする元気がないから以下に同じことを言ってるブログを貼ります そのうちノートとして自分の言葉で書き直すかも

https://peng225.hatenablog.com/entry/2019/03/15/085054

スターリング数っていうので確率分布の計算ができますということです

ここから任意のコンプをしようとするときの確率分布がわかりはするから、たとえば90%の確率でコンプできるために必要なカードの枚数は分かるんだけど、ちょっと計算がめんどくさい

しかしながら、$n=50$くらいより大きければある程度一致する近似式があって、$n$種類のコンプを確率$p$で達成するために必要な$k$は

$$k \sim n (\ln n - \ln (1 - p))$$

です

これはwikipedia( https://ja.wikipedia.org/wiki/%E3%82%AF%E3%83%BC%E3%83%9D%E3%83%B3%E3%82%B3%E3%83%AC%E3%82%AF%E3%82%BF%E3%83%BC%E5%95%8F%E9%A1%8C )にも書いてあるけどエルデシュとレーニによって、$n$極限による分布がガンベル分布になることが証明されていて、それを使って適当に近似したやつです

この式を使えば、80種類のポケモンカードを90%の確率でコンプしたいときは534.7くらい、すなわち107パックくらいは必要になるということですね

ポケモンカードの1ボックスは30パックですから、90%以上の確率でコンプしたいなら4ボックスからということになるね

みなさんも4ボックス買ってみてはいかがでしょうか

ちなみに1枚だけどうしてもほしいやつがあるとき、すなわち、$n$種類のランダムなラブブのボックスを買って欲しいラブブが確率$p$で出てくるのに必要なボックス数$k$は

$$k = \frac{\ln (1-p)}{ \ln (n-1) - \ln n}$$

で、たとえばこれ( https://www.popmart.com/jp/products/5737/THE%20MONSTERS%20Big%20into%20Energy%20%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA%20%E3%81%AC%E3%81%84%E3%81%90%E3%82%8B%E3%81%BF%E3%83%9A%E3%83%B3%E3%83%80%E3%83%B3%E3%83%88 )みたいに7種類とかのラブブから90%の確率で欲しいのを引き当てたかったら14.9、すなわち15個買う必要があります

シークレットはそもそも封入率が低いことを考えたら、わあっ！悪！という気持ちになりますね♪

ソフトコアギャンブルは許しがたい

## レジェンズZA

戦闘は確実に面白くなっていると思う

競技性は減ったけど もうちょっとなんか駆け引きとかあってもいいかもね

まあそういう人はチャンピオンズすればいいのかな

街はあんまりだね

ロケーションを絞ったのはやっぱあんま嬉しくなかったと思う

ストーリーはけっこう筋が通りやすくいい感じにはなってると思うけど、探索する遊びとしては中途半端になってつまらなくなった

PS5とかのスパイダーマンはさ ニューヨークをクモ糸でブランブランできるんだけど

さすがにそれとは探索の楽しさが遠く及ばないねえ

そこ以外は予想以上の出来ですごく良かったです

なんかそれこそアクション要素を増やし、フーパの輪っかとか散らしてダンジョンとか作って、ポケモンと行くブレワイみたいにすれば間違いない神ゲーにはなったんだろけど 戦闘が面白いし

わかんない 街だけは多少気になるけど普通に良作です

今週はこれで

おわり
